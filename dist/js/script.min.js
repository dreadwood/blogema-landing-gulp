"use strict";window.utils={sendData:async(t,e)=>await fetch(e,{method:"POST",body:JSON.stringify(t),mode:"no-cors"})},(()=>{const t="vote",e=[...document.querySelectorAll("[data-card-blogger]")],n=document.querySelectorAll("[data-card-blogger-btn]"),o=window.location.pathname||"index",r=function(t){const e=localStorage.getItem(t);return e?JSON.parse(e):{}}(t);function c(t,e){return t.find((t=>{if(t instanceof HTMLElement)return t.dataset.cardBlogger===e}))}function a(t,e){const n=c(t,e);n&&(n.classList.add("actv"),function(t){const e=t.querySelector("[data-card-blogger-btn]");e&&e instanceof HTMLElement&&(e.textContent="Вы проголосовали")}(n))}r.hasOwnProperty(o)?a(e,r[o]):n.forEach((d=>{return(s=d).removeAttribute("disabled"),void s.addEventListener("click",(()=>{if(!(s instanceof HTMLElement))throw new Error("Blogger card don't have id");if(!s.dataset.cardBloggerBtn)throw new Error("Blogger card don't have id");a(e,s.dataset.cardBloggerBtn),function(t,e){const n=c(t,e);if(!n)return;const o=n.querySelector("[data-card-blogger-vote]");if(o&&o instanceof HTMLElement){const t=o.textContent;if(t){const e=+t+1;o.textContent=e.toString()}}}(e,s.dataset.cardBloggerBtn),function(t,e,n,o){t[n]=e,localStorage.setItem(o,JSON.stringify(t))}(r,s.dataset.cardBloggerBtn,o,t),function(t){t.forEach((t=>t.setAttribute("disabled","disabled")))}(n)}));var s}))})(),(()=>{const t=document.querySelector(".js-burger"),e=document.querySelector(".js-header"),n=document.querySelectorAll(".js-link");let o=!1;function r(){e?.classList.remove("open"),document.body.classList.remove("scroll-lock"),o=!1}t?.addEventListener("click",(()=>{o?r():(e?.classList.add("open"),document.body.classList.add("scroll-lock"),o=!0)})),n.forEach((t=>t.addEventListener("click",(()=>{r()}))))})(),(()=>{const t=document.querySelector(".js-drop-btn"),e=document.querySelector(".js-drop-btn span"),n=document.querySelector(".js-drop-menu"),o=document.querySelectorAll(".js-drop-value");let r=!1;function c(){t?.classList.remove("actv"),n?.classList.remove("open"),r=!1}t?.addEventListener("click",(()=>{r?c():(t?.classList.add("actv"),n?.classList.add("open"),r=!0)})),o.forEach((t=>{t.addEventListener("click",(()=>{var n;e&&(e.textContent=t.textContent),o.forEach((t=>t.classList.remove("actv"))),t.classList.add("actv"),t instanceof HTMLElement&&(n=t.dataset.categoryIdBtn,document.querySelectorAll("[data-category-id-card]").forEach((t=>{if(t instanceof HTMLElement){const e=t.dataset.categoryIdCard;"0"===n||e===n?t.removeAttribute("hidden"):t.setAttribute("hidden","hidden")}}))),c()}))}))})();